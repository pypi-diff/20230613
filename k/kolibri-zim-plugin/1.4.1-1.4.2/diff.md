# Comparing `tmp/kolibri_zim_plugin-1.4.1-py2.py3-none-any.whl.zip` & `tmp/kolibri_zim_plugin-1.4.2-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,16 +1,21 @@
-Zip file size: 96304 bytes, number of entries: 14
--rw-r--r--  2.0 unx       22 b- defN 22-Dec-09 22:31 kolibri_zim_plugin/__init__.py
--rw-r--r--  2.0 unx      512 b- defN 22-Dec-09 22:31 kolibri_zim_plugin/kolibri_plugin.py
--rw-r--r--  2.0 unx      750 b- defN 22-Dec-09 22:31 kolibri_zim_plugin/root_urls.py
--rw-r--r--  2.0 unx    12584 b- defN 22-Dec-09 22:31 kolibri_zim_plugin/views.py
--rw-r--r--  2.0 unx      857 b- defN 22-Dec-09 22:34 kolibri_zim_plugin/build/kolibri_zim_plugin.main_stats.json
--rw-r--r--  2.0 unx    86314 b- defN 22-Dec-09 22:34 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js
--rw-r--r--  2.0 unx   260062 b- defN 22-Dec-09 22:34 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js.map
--rw-r--r--  2.0 unx     7020 b- defN 22-Dec-09 22:34 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.css
--rw-r--r--  2.0 unx     7023 b- defN 22-Dec-09 22:34 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.rtl.css
--rw-r--r--  2.0 unx     1078 b- defN 22-Dec-09 22:34 kolibri_zim_plugin-1.4.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     3177 b- defN 22-Dec-09 22:34 kolibri_zim_plugin-1.4.1.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 22-Dec-09 22:34 kolibri_zim_plugin-1.4.1.dist-info/WHEEL
--rw-r--r--  2.0 unx       19 b- defN 22-Dec-09 22:34 kolibri_zim_plugin-1.4.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1473 b- defN 22-Dec-09 22:34 kolibri_zim_plugin-1.4.1.dist-info/RECORD
-14 files, 381001 bytes uncompressed, 93752 bytes compressed:  75.4%
+Zip file size: 182376 bytes, number of entries: 19
+-rw-r--r--  2.0 unx       22 b- defN 23-Jun-12 22:12 kolibri_zim_plugin/__init__.py
+-rw-r--r--  2.0 unx      512 b- defN 21-Aug-03 16:17 kolibri_zim_plugin/kolibri_plugin.py
+-rw-r--r--  2.0 unx      750 b- defN 23-Feb-11 00:28 kolibri_zim_plugin/root_urls.py
+-rw-r--r--  2.0 unx    12457 b- defN 23-Jun-12 22:12 kolibri_zim_plugin/views.py
+-rw-r--r--  2.0 unx      829 b- defN 23-Jun-12 22:13 kolibri_zim_plugin/build/kolibri_zim_plugin.main_stats.json
+-rw-r--r--  2.0 unx    84293 b- defN 22-Jun-21 16:31 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.0.js
+-rw-r--r--  2.0 unx   252703 b- defN 22-Jun-21 16:31 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.0.js.map
+-rw-r--r--  2.0 unx    86314 b- defN 23-Jun-12 22:13 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js
+-rw-r--r--  2.0 unx   260062 b- defN 23-Jun-12 22:13 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js.map
+-rw-r--r--  2.0 unx     7020 b- defN 22-Jun-21 16:31 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.0.css
+-rw-r--r--  2.0 unx     7023 b- defN 22-Jun-21 16:31 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.0.rtl.css
+-rw-r--r--  2.0 unx     7020 b- defN 23-Jun-12 22:13 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.css
+-rw-r--r--  2.0 unx     7023 b- defN 23-Jun-12 22:13 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.rtl.css
+-rw-r--r--  2.0 unx     1078 b- defN 23-Jun-12 22:13 kolibri_zim_plugin-1.4.2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     3179 b- defN 23-Jun-12 22:13 kolibri_zim_plugin-1.4.2.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-Jun-12 22:13 kolibri_zim_plugin-1.4.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx       58 b- defN 23-Jun-12 22:13 kolibri_zim_plugin-1.4.2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       19 b- defN 23-Jun-12 22:13 kolibri_zim_plugin-1.4.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2146 b- defN 23-Jun-12 22:13 kolibri_zim_plugin-1.4.2.dist-info/RECORD
+19 files, 732618 bytes uncompressed, 178670 bytes compressed:  75.6%
```

## zipnote {}

```diff
@@ -9,35 +9,50 @@
 
 Filename: kolibri_zim_plugin/views.py
 Comment: 
 
 Filename: kolibri_zim_plugin/build/kolibri_zim_plugin.main_stats.json
 Comment: 
 
+Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.0.js
+Comment: 
+
+Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.0.js.map
+Comment: 
+
 Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js
 Comment: 
 
 Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js.map
 Comment: 
 
+Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.0.css
+Comment: 
+
+Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.0.rtl.css
+Comment: 
+
 Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.css
 Comment: 
 
 Filename: kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.rtl.css
 Comment: 
 
-Filename: kolibri_zim_plugin-1.4.1.dist-info/LICENSE
+Filename: kolibri_zim_plugin-1.4.2.dist-info/LICENSE
+Comment: 
+
+Filename: kolibri_zim_plugin-1.4.2.dist-info/METADATA
 Comment: 
 
-Filename: kolibri_zim_plugin-1.4.1.dist-info/METADATA
+Filename: kolibri_zim_plugin-1.4.2.dist-info/WHEEL
 Comment: 
 
-Filename: kolibri_zim_plugin-1.4.1.dist-info/WHEEL
+Filename: kolibri_zim_plugin-1.4.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: kolibri_zim_plugin-1.4.1.dist-info/top_level.txt
+Filename: kolibri_zim_plugin-1.4.2.dist-info/top_level.txt
 Comment: 
 
-Filename: kolibri_zim_plugin-1.4.1.dist-info/RECORD
+Filename: kolibri_zim_plugin-1.4.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## kolibri_zim_plugin/__init__.py

```diff
@@ -1 +1 @@
-__version__ = "1.4.1"
+__version__ = "1.4.2"
```

## kolibri_zim_plugin/views.py

```diff
@@ -105,16 +105,17 @@
     def get(self, request, zim_filename):
         main_page = self.zim_client.main_page
 
         if main_page is None:
             return HttpResponseNotFound("Article does not exist")
 
         article_url = _zim_article_url(
-            request, zim_filename, main_page.full_url, redirect_from=""
+            zim_filename, main_page.full_url, redirect_from=""
         )
+
         return HttpResponseRedirect(article_url)
 
 
 class ZimArticleView(_ImmutableViewMixin, _ZimFileViewMixin, View):
     http_method_names = (
         "get",
         "options",
@@ -128,25 +129,23 @@
                 zim_article_path, follow_redirect=False
             )
         except KeyError:
             return HttpResponseNotFound("Article does not exist")
 
         if zim_article.redirect_to_url:
             article_url = _zim_article_url(
-                request,
                 zim_filename,
                 zim_article.redirect_to_url,
                 redirect_from=zim_article.full_url,
             )
             return HttpResponseRedirect(article_url)
 
         if self._article_is_main_page(zim_article) and redirect_from != "":
             # Make the main page article work like it does via ZimIndexView
             article_url = _zim_article_url(
-                request,
                 zim_filename,
                 zim_article.full_url,
                 redirect_from="",
             )
             return HttpResponseRedirect(article_url)
 
         return self._get_response_for_article(zim_article)
@@ -275,23 +274,22 @@
 
         if snippet_length:
             result["snippet"] = _zim_article_snippet(zim_article, snippet_length)
 
         return result
 
 
-def _zim_article_url(request, zim_filename, zim_article_path, redirect_from=None):
+def _zim_article_url(zim_filename, zim_article_path, redirect_from=None):
     # I don't know why I need to torment the resolver like this instead of
     # using django.urls.reverse, but something is trying to add a language
     # prefix incorrectly and causing an error.
     resolver = get_resolver(None)
-    redirect_url = resolver.reverse(
+    url = "/" + resolver.reverse(
         "zim_article", zim_filename=zim_filename, zim_article_path=zim_article_path
     )
-    url = request.build_absolute_uri("/" + redirect_url)
     if redirect_from is not None:
         query = QueryDict(mutable=True)
         query["redirect_from"] = redirect_from
         return "{url}?{query}".format(url=url, query=query.urlencode())
     else:
         return url
```

## kolibri_zim_plugin/build/kolibri_zim_plugin.main_stats.json

### Pretty-printed

 * *Similarity: 0.9791666666666666%*

 * *Differences: {"'chunks'": "{'kolibri_zim_plugin.main': {0: {'path': "*

 * *             "'/var/home/dylan/Code/endlessm/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.css'}, "*

 * *             "1: {'path': "*

 * *             "'/var/home/dylan/Code/endlessm/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js'}, "*

 * *             "2: {'path': "*

 * *             "'/var/home/dylan/Code/endlessm/kolibri-zim-plugin/kolibri_zim_plugin/static/kolib [â€¦]*

```diff
@@ -1,24 +1,24 @@
 {
     "chunks": {
         "kolibri_zim_plugin.main": [
             {
                 "name": "kolibri_zim_plugin.main1.4.1.css",
-                "path": "/home/runner/work/kolibri-zim-plugin/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.css"
+                "path": "/var/home/dylan/Code/endlessm/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.css"
             },
             {
                 "name": "kolibri_zim_plugin.main-1.4.1.js",
-                "path": "/home/runner/work/kolibri-zim-plugin/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js"
+                "path": "/var/home/dylan/Code/endlessm/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js"
             },
             {
                 "name": "kolibri_zim_plugin.main-1.4.1.js.map",
-                "path": "/home/runner/work/kolibri-zim-plugin/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js.map"
+                "path": "/var/home/dylan/Code/endlessm/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js.map"
             },
             {
                 "name": "kolibri_zim_plugin.main1.4.1.rtl.css",
-                "path": "/home/runner/work/kolibri-zim-plugin/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.rtl.css"
+                "path": "/var/home/dylan/Code/endlessm/kolibri-zim-plugin/kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.rtl.css"
             }
         ]
     },
     "messages": false,
     "status": "done"
 }
```

## Comparing `kolibri_zim_plugin-1.4.1.dist-info/LICENSE` & `kolibri_zim_plugin-1.4.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `kolibri_zim_plugin-1.4.1.dist-info/METADATA` & `kolibri_zim_plugin-1.4.2.dist-info/METADATA`

 * *Files 8% similar despite different names*

```diff
@@ -1,29 +1,29 @@
 Metadata-Version: 2.1
 Name: kolibri-zim-plugin
-Version: 1.4.1
+Version: 1.4.2
 Summary: Kolibri plugin to add a Zim file viewer
 Home-page: https://github.com/endlessm/kolibri-zim-plugin
 Author: Endless OS Foundation
 Author-email: dylan@endlessos.org
 License: MIT
 Keywords: kolibri
-Platform: UNKNOWN
 Classifier: Development Status :: 2 - Pre-Alpha
 Classifier: Intended Audience :: Developers
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Natural Language :: English
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.4
 Classifier: Programming Language :: Python :: 3.5
 Classifier: Programming Language :: Python :: 3.6
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: Implementation :: PyPy
 Description-Content-Type: text/markdown
+License-File: LICENSE
 Requires-Dist: zimply-core (<2.0.0,>=1.0.4)
 Provides-Extra: full
 Requires-Dist: beautifulsoup4 (==4.11.1) ; extra == 'full'
 Requires-Dist: lxml (==4.9.0) ; extra == 'full'
 Provides-Extra: snippets
 Requires-Dist: beautifulsoup4 (==4.11.1) ; extra == 'snippets'
 
@@ -99,9 +99,7 @@
     yarn dist
 
 The file will be placed in the `dist/` directory.
 
 Finally, upload the `.whl` file to PyPi:
 
     yarn release
-
-
```

## Comparing `kolibri_zim_plugin-1.4.1.dist-info/RECORD` & `kolibri_zim_plugin-1.4.2.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,14 +1,19 @@
-kolibri_zim_plugin/__init__.py,sha256=BqOI5y46o1G1RWC9bF1DPL-YM68lGYPmZt1pn6FZFZs,22
+kolibri_zim_plugin/__init__.py,sha256=qjngKmjcwKn1c_BwAouVdai-TbnuKZo56EbqRdILxaI,22
 kolibri_zim_plugin/kolibri_plugin.py,sha256=BpysqFNiJE0mrSCBx9l6uKdL8hvec35TO8Fgcqa0kgo,512
 kolibri_zim_plugin/root_urls.py,sha256=9iFvzuCnRJVTq7FIy3PjoW_wYI-Uo5mi2uXRndXyGLo,750
-kolibri_zim_plugin/views.py,sha256=_8h51yw-8u_RoB9iH5_gjwN0JkDzBtozhrxQvqCHCfo,12584
-kolibri_zim_plugin/build/kolibri_zim_plugin.main_stats.json,sha256=6WF-XwbQYlUL1MpdAJzeFBEle-V2PvoAPa_EntZUQKk,857
+kolibri_zim_plugin/views.py,sha256=08ht35Ebk6LSXV7OWXa4Vt6dZe2pAOC8yIww41tWZT4,12457
+kolibri_zim_plugin/build/kolibri_zim_plugin.main_stats.json,sha256=o8GXRxVt63bzCwxA9zN3zBtN7NvCxwO7nWIDKoUQX6o,829
+kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.0.js,sha256=aYQ5CH-r-7YETKel57IKbxv_UxvMmiQL7dwz92T28B4,84293
+kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.0.js.map,sha256=FY_6H5zQwS4i7YyxYDCCWA4vXMJEUlHFPEEGj5zRRM0,252703
 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js,sha256=68QYeFvsana8Sy2aNw31kUjnZzIaM4kgKRun6GzzXs0,86314
 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main-1.4.1.js.map,sha256=U-1lgLqtR0lXle8gEidiFwXDfTKNySx31jlvp4x4vh0,260062
+kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.0.css,sha256=xxk5r80p8lpnMmuJZqAceJfO0TdNnAIPt8T_ky31QVc,7020
+kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.0.rtl.css,sha256=IpRNtyZZfILSZfl18JekELZeauNCJOFUrFTD2QAHLWQ,7023
 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.css,sha256=CnrtrX0Jn-rRMJSGK0emi2bWT2yMX8WAHx3CkP4WSqQ,7020
 kolibri_zim_plugin/static/kolibri_zim_plugin.main/kolibri_zim_plugin.main1.4.1.rtl.css,sha256=Spgz-cq5E5xnHw-V3g3ap9g3cmRkd1UOVC3-e9HafHM,7023
-kolibri_zim_plugin-1.4.1.dist-info/LICENSE,sha256=Pl0iKY2HSCsmI-3R7TcC_Z3GplguTEdS9LvEAyOe1pY,1078
-kolibri_zim_plugin-1.4.1.dist-info/METADATA,sha256=6XQEJojBCbiXGwKXjEEwYIAWD1jiQxb7qSPLwp97LxU,3177
-kolibri_zim_plugin-1.4.1.dist-info/WHEEL,sha256=bb2Ot9scclHKMOLDEHY6B2sicWOgugjFKaJsT7vwMQo,110
-kolibri_zim_plugin-1.4.1.dist-info/top_level.txt,sha256=MYjEfhh2qYycCzHCTvdLgU37hbc87PbI8OhkOshgdt4,19
-kolibri_zim_plugin-1.4.1.dist-info/RECORD,,
+kolibri_zim_plugin-1.4.2.dist-info/LICENSE,sha256=Pl0iKY2HSCsmI-3R7TcC_Z3GplguTEdS9LvEAyOe1pY,1078
+kolibri_zim_plugin-1.4.2.dist-info/METADATA,sha256=xX0ExAx4rTkcUf4ZcXLxx1WRFmV9vvEiFCm76wVI9sg,3179
+kolibri_zim_plugin-1.4.2.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
+kolibri_zim_plugin-1.4.2.dist-info/entry_points.txt,sha256=__HENexEycGArr4IZVkxLMo6AhG2tmRZ5NCMzwotu0M,58
+kolibri_zim_plugin-1.4.2.dist-info/top_level.txt,sha256=MYjEfhh2qYycCzHCTvdLgU37hbc87PbI8OhkOshgdt4,19
+kolibri_zim_plugin-1.4.2.dist-info/RECORD,,
```

